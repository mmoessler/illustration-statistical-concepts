<!doctype html>
<html lang="eng">
<head>
  
  <title>Example Flights Data - Sample Average - Sampling Distribution</title>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/css/bootstrap-slider.min.css">
  
  <!-- my style sheet -->
  <link rel="stylesheet" href="../assets/mystyle.css">
  
  <!-- logo -->
  <div class="logoCl header01Cl" style="text-align:center; padding-top: 20px; padding-bottom: 20px;" background-color="#eeeeee;">
    <img src="../assets/RZ_UniHohenheim_Logo_1C_Weiss_EN.svg" height="250px"/>
  </div>
  
</head>
<body>
  
  <div class="container mt-5">
    <div class="row">
      
      <div class="jumbotron topJumbCl" style="margin-top: 50px; padding: 25px 50px 25px 50px;">
        
        <p style='font-size: 28pt;'>Properties of the Sample Average as Estimator for the Mean</p>
        <p style='font-size: 18pt;'>Example - Flights Data</p> 
        
      </div>
      
    </div>
  </div>
  
  <div class="container mt-5">
    <div class="row">
      
      <div class="jumbotron" style="padding: 25px 50px 25px 50px">
        
        <p style="font-size: 18pt">Topic of the module</p>
        
        <div style="margin-left: 10pt;">
          
          <p>Understand the effect of increasing the sample size \(n\) on the sampling distribution of the sample average as an estimator for the population mean through resampling methods.</p>

        </div>

        <hr>
        
        <p style="font-size: 18pt">Bootstrapping</p>
        
        <div style="margin-left: 10pt;">

          <p>The bootstrap is a simulation method for computing standard errors and distributions of statistics of interest, which employs an 
            estimated DGP (data generating process) for generating artificial (bootstrap) samples and computing the (bootstrap) draws of the
            statistic. Empirical or nonparametric bootstrap relies on nonparametric estimates of the dgp, whereas parametric bootstrap relies 
            on parametric estimates of the dgp.</p>

            <!-- https://ocw.mit.edu/courses/14-382-econometrics-spring-2017/48094f9cc619ec6c5a5b56aa3bdfc360_MIT14_382S17_lec5.pdf -->
          
          <p> The following example gives some intuition how different bootstrap samples could look like. \(B = b_1,...,b_n\) samples are drawn 
            with replacement from the population \(Y = [1, 2, 3, 4, 5]\),</p>
          
          $$
          \begin{align}
          Y_{b_1} &= [1, 4, 2, 1, 3] & \\
          Y_{b_2} &= [2, 2, 3, 4, 1] & \\
          Y_{b_3} &= [4, 1, 1, 3, 2] & \\
          ... & &\\
          Y_{b_n} &= [3, 5, 4, 4, 5] & \\
          \end{align}
          $$
          
          <p>where \(B\) is a parameter indicating the number of different bootstrap samples drawn. Usually, a good value for B lies between 200 and 1000 
            depending on the Bootstrap statistic one wants to obtain.</p>

          <p>Here, we want to calculate the mean of each sample. We compute the mean \(\mu_b\) for each bootstrap sample, and then take the average
             to get the bootstrap mean. The bootstrap mean shoud be approximatly similar to the population mean \(\mu_Y\).</p>

             $$
             \begin{align}
             
             \mu_B = \frac{1}{b}\sum_{i=1}^{n}\mu_{b_i} \approx \mu_Y 

             \end{align}
             $$
            
            <p>When we draw bootstrap samples, which are smaller than the true population, one can show that for an increasing bootstrap sample 
              size \(n\), the deviation from the true population mean decreases.</p>
        </div>
        
        <hr>
        
        <p style="font-size: 18pt">Data generating process (DGP)</p>
        
        <div style="margin-left: 10pt;">

          <p>The data in the following consists of information about all flights departing NYC in 2013. As the data is only available for NYC in 2013, 
            we don't know the distribution of the whole population.</p>
          <p> As we are interested in the average departure time, we draw samples \(Y_i\) with \(n\) observations for the delay of the flights 
            from the dataset. With increasing sample size, the sample mean and the variance approach the population mean and variance. Additionally, when we standardize the sample 
          means the distribution approaches a standard normal distribution with \(\mathcal{N}(0,1)\).</p>
          
        </div>
        
        <hr>
        
        <p style="font-size: 18pt">Estimator and parameter of interest</p>
        
        <div style="margin-left: 10pt;">
          
          <p>We are interested in the sampling properties of the sample average \(\overline{Y}\) given by,</p>
          
          $$
          \begin{align}
          \overline{Y} = \frac{1}{N}\sum_{i=1}^{N} Y_{i},
          \end{align}
          $$            
          
          <p>as estimator for the mean of a randomly drawn sample \(Y_{i}\) of the data is given by,</p>
          
          $$
          \begin{align}
          \mu=\text{E}\left(Y_{i}\right)
          \end{align}
          $$ 

          
        </div>
        
      </div>
      
    </div>
  </div>
  
  <div class="container mt-5">
    <div class="row">
      
      <div class="jumbotron outerJumbCl" style="padding: 25px 50px 25px 50px">
        
        <p style="font-size: 18pt">Illustration</p>
        
        <div style="margin-left: 10pt;">
          
          <p>Change the parameters and see the effect on the properties of the sample average \(\overline{Y}\) as estimator for \(\mu\).</p>
          
        </div>
        
        <div class="container mt-5" style="margin-top: 50px;">
          <div class="row">
            
            <div class="col-sm-3" style="margin-top: 90px;">
              <div class="jumbotron innerJumbCl" style="padding: 25px 50px 25px 50px">
                
                <p style="font-size: 14pt; text-align: center;">Parameters</p>
                
                <div style='margin-top: 50px;'>
                  
                  <hr>
                  
                  <p style="font-size: 12pt; text-align: center;">Sample size \(n\)</p><p style="font-size: 12pt; text-align: center" class="sliderValueCl" id="sliderValue1Id"></p>
                  <input class="sliderCl" id="slider1Id" type="text" data-slider-min="0" data-slider-max="14" data-slider-step="1" data-slider-value="2"/>
                  <div style="font-size: 12pt; text-align: center;">
                    <button class="animateButtonCl" onclick="animateButtonClick(slider = 1)">Animate \(n\)</button>
                  </div>
                  
                  <!-- <br>
                  
                  <p style="font-size: 12pt; text-align: center;">Probability of <br> success \(p\)</p><p style="font-size: 12pt; text-align: center" class="sliderValueCl" id="sliderValue2Id"></p>
                  <input class="sliderCl" id="slider2Id" type="text" data-slider-min="0" data-slider-max="3" data-slider-step="1" data-slider-value="1"/>
                  <div style="font-size: 12pt; text-align: center;">
                    <button class="animateButtonCl" onclick="animateButtonClick(slider = 2)">Animate \(p\)</button>
                  </div> -->
                  
                </div>
                
              </div>
            </div>
            
            <div class="col-sm-9">
              <div class="jumbotron innerJumbCl" style="padding: 15px 50px 25px 50px">
                
                <div class="tab" style="text-align: center;">
                  <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N1Id', 'tabLinkL1N1Id', 'white')" id="tabLinkL1N1Id">Realizations</button>
                  <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N2Id', 'tabLinkL1N2Id', 'white')" id="tabLinkL1N2Id">Estimates</button>
                  <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N3Id', 'tabLinkL1N3Id', 'white')" id="tabLinkL1N3Id">Std. Estimates</button>
                </div>
                
                <hr>
                
                <div id="tabContentL1N1Id" class="tabContentL1Cl">
                  
                  <table style="width:100%; margin-bottom: 10px;">
                    <tr>
                      <td style="width: 10%"></td>
                      <td style="width: 80%; font-size: 14pt; text-align: left;">Bar chart</td>
                      <td style="width: 10%; font-size: 14pt; text-align: right;">
                        <button class="explainButtonCl" onclick="explainButtonClick()">Explain</button>
                      </td>
                    </tr>
                  </table>
                  
                  <div style="text-align: center;">
                    <img src="./figures/figure_01_1.svg" alt="" class="figureCl" id="figure1Id" style="max-width: 75%;">
                  </div>                      
                  
                  <p class="audioShowTextCl" id="audioShowTextFigure1Id" style="font-size: 10pt; color: red; font-style: italic; text-align: center; display: none;"></p>
                  
                  <p>The bar chart shows the number of ones and zeros of one realization of the DGP.</p>
                  
                </div>
                
                <div id="tabContentL1N2Id" class="tabContentL1Cl">
                  
                  <table style="width:100%; margin-bottom: 10px;">
                    <tr>
                      <td style="width: 10%"></td>
                      <td style="width: 80%; font-size: 14pt; text-align: left;">Histogram of the sample average \(\overline{Y}\)</td>
                      <td style="width: 10%; font-size: 14pt; text-align: right;">
                        <button class="explainButtonCl" onclick="explainButtonClick()">Explain</button>
                      </td>
                    </tr>
                  </table>
                  
                  <div style="text-align: center;">
                    <img src="./figures/figure_02_1.svg" alt="" class="figureCl" id="figure2Id" style="max-width: 75%;">
                  </div>
                  
                  <p class="audioShowTextCl" id="audioShowTextFigure2Id" style="font-size: 10pt; color: red; font-style: italic; text-align: center; display: none;"></p>
                  
                  <span style="font-size: 16pt; text-decoration: underline;">Consistency</span><span style="font-size: 16pt; text-decoration: none;">:</span>
                  
                  <p>As the sample size \(n\) grows the sample average \(\overline{Y}\) gets closer to \(\mu\), i.e.,</p>
                  
                  $$
                  \begin{align}
                  \overline{Y} \overset{p}{\to} \mu.
                  \end{align}
                  $$
                  
                </div>
                
                <div id="tabContentL1N3Id" class="tabContentL1Cl">
                  
                  <table style="width:100%; margin-bottom: 10px;">
                    <tr>
                      <td style="width: 10%"></td>
                      <td style="width: 80%; font-size: 14pt; text-align: left;">Histogram of the standardized sample average \(z_{\overline{Y}}\)</td>
                      <td style="width: 10%; font-size: 14pt; text-align: right;">
                        <button class="explainButtonCl" onclick="explainButtonClick()">Explain</button>
                      </td>
                    </tr>
                  </table>
                  
                  <div style="text-align: center;">
                    <img src="./figures/figure_03_1.svg" alt="" class="figureCl" id="figure3Id" style="max-width: 75%;">
                  </div>
                  
                  <p class="audioShowTextCl" id="audioShowTextFigure3Id" style="font-size: 10pt; color: red; font-style: italic; text-align: center; display: none;"></p>
                  
                  <span style="font-size: 16pt; text-decoration: underline;">Asymptotic Normality</span><span style="font-size: 16pt; text-decoration: none;">:</span>
                  
                  <p>As the sample size \(n\) grows the distribution of the standardized sample average,</p>
                  
                  $$
                  \begin{align}
                  z_{\overline{Y}} &= \frac{\overline{Y} - \mu}{\sigma_{\overline{Y}}}, \\
                  z_{\overline{Y}} &= \frac{\overline{Y} - \mu}{\frac{\sigma}{\sqrt{N}}},
                  \end{align}
                  $$
                  
                  <p>gets closer to the standard normal distribution \(N\left(0, 1\right)\).</p>
                  
                </div>
                
              </div>
              
            </div>
          </div>
        </div>
        
      </div>
      
    </div>
  </div>
  
  <div class="container mt-5">
    <div class="row">
      
      <div class="jumbotron" style="padding: 25px 50px 25px 50px">
        
        <p style="font-size: 18pt">More Details</p>
        
        <button type="button" class="collButtonCl"> <span style="font-size: 14pt;">Construction of \(z_{\overline{Y}}\)</span> </button>
        <div class="collContentCl">
          
          <p style="margin-top: 10px;">
            For the construction of the standardized sample average \(z_{\overline{Y}}\), the population mean \(\mu\) as well as the variance 
            \(\sigma^{2}\) are used.</p>
          
          <p>The mean is given by,</p>
          
          $$
          \begin{align}
          \mu = \overline{Y} = \frac{1}{N}\sum_{i=1}^{N} Y_{i},,
          \end{align}
          $$ 
          
          <p>and the variance is given by,</p>
          
          $$
          \begin{align}
          \sigma^{2}=\frac{1}{N}\sum_{i=1}^{N}\left(y_i - \mu\right)^2,
          \end{align}
          $$
          
          <p>where \(y_i\) is a single observation of the data.</p>
          
        </div>
        
        <button type="button" class="collButtonCl"> <span style="font-size: 14pt;">Simulation Exercise</span> </button>
        <div class="collContentCl">
          
          <ol type="1" style="margin-top: 10px;">
            <li>A subsample of the DGP specified above is drawn, i.e., a i.i.d. sequence of realizations \(y_{1}, y_{2}, ..., y_{n}\) are drawn with replacement from the data \(Y_{flights}\).</li>
            <li>Based on the sequence of observations \(y_{1}, y_{2}, ... y_{n}\), the sample average and standardized sample average are calculated based on the subsample.</li>  
            <li>The values of the sample average \(\overline{Y}\) and the standardized sample average \(z_{\overline{Y}}\) are stored.</li>
            <li>Step 1 to 3 is repeated \(1,\!000\) times resulting in \(1,\!000\) sample averages and standardized sample averages.</li>
            <li>The distribution of the sample averages and standardized sample averages are illustrated using histograms.</li>
          </ol>
          
        </div>
        
      </div>
      
    </div>
  </div>
  
  <!-- .................................................. -->
  <!-- Collections of audio text -->
  <div style="display: none;">
    
    <!-- .................................................. -->
    <!-- default text -->
    <div id="audioTextNoText" class="audioTextCl">
      There is no explanation yet.
    </div>
    
    <!-- .................................................. -->
    <!-- figure 1 -->
    <div id="audioTextFigure1OverallId" class="audioTextCl">
      <span>The figure shows the barplot of the the number zeros and ones for one particular realization of the DGP.</span>
    </div>
    
    <div id="audioTextFigure1Slider1Id" class="audioTextCl">
      <span>Increasing the sample size increases the number of zeros and ones for one particular realization of the DGP.</span>
    </div>
    
    <div id="audioTextFigure1Slider2Id" class="audioTextCl">        
      <span>Increasing the probability of success increases the number of ones for one particular realization of the DGP.</span>
    </div>
    
    <!-- .................................................. -->
    <!-- figure 2 -->
    <div id="audioTextFigure2OverallId" class="audioTextCl">
      <span>The figure shows:<br></span>
      <span>The histogram of all estimated sample averages for all realizations of the DGP.<br></span>
      <span>The red vertical dashed line represents the sample average for one particular realization of the DGP.</span>
      <span>The green vertical dashed line represents the mean, i.e., the probability of success, of the underlying DGP.</span>
    </div>
    
    <div id="audioTextFigure2Slider1Id" class="audioTextCl">
      <span>By increasing the sample size the sample average concentrate more around the mean, i.e., the probability of success, used to generate the data.<br></span>
      <span>This is the result of law of large numbers.</span>
    </div>
    
    <div id="audioTextFigure2Slider2Id" class="audioTextCl">
      <span>Changing the probability of success, i.e., changing the mean of the underlying DGP, shifts the histogram.</span>
    </div>
    
    <!-- .................................................. -->
    <!-- figure 3 -->
    <div id="audioTextFigure3OverallId" class="audioTextCl">
      <span>The figure shows:<br></span>
      <span>The histogram of all standardized sample averages for all realizations of the DGP.<br></span>
      <span>The red vertical dashed line represents the standardized sample average for one particular realization of the DGP.</span>
      <span>The green vertical dashed curve represents the pdf of the standard normal distribution.</span>
    </div>
    
    <div id="audioTextFigure3Slider1Id" class="audioTextCl">
      <span>By increasing the sample size the sampling distribution of the standardized sample average gets closer to the standard normal distribution which pdf is illustrated by the green dashed curve.<br></span>
      <span>This is the results of the central limit theorem.</span>
    </div>
    
    <div id="audioTextFigure3Slider2Id" class="audioTextCl">
      <span>Changing the probability of success does not effect the results of the central limit theorem.</span>
    </div>
    
  </div>
  
  <!-- include/exculde ilias footer -->
  <div class="container mt-5">
    <div class="row">
      <p style="text-align: center; font-size: 20pt; font-weight: bold;" class="footerIliasCl">
        <a href="https://ilias.uni-hohenheim.de/data/UHOH/lm_data/lm_1781360/index_ilias.html"><em>Back to Startpage</em></a>
      </p>
    </div>
  </div>
  
  <!-- include/exculde github footer -->
  <div class="container mt-5">
    <div class="row">
      <p style="text-align: center; font-size: 20pt; font-weight: bold;" class="footerGihubCl">
        <a href="https://raw.githack.com/mmoessler/illustration-statistical-concepts/main/index.html"><em>Back to Startpage</em></a>
      </p>
    </div>
  </div>
  
  <!-- footer logos -->
  <div class="container mt-5">
    <div class="row">
      
      <hr>
      <table style="width:100%">
        <tr>
          <td style="width: 25%; text-align: left; padding-left: 10%;">
            <img src="../assets/RZ_UniHohenheim_Logo_4C_E_blau_EN.svg" height="10%"/>
          </td>
          <td style="width: 50%; text-align: center;">
            <p style="font-size: 75%; text-align: center;">This module is part of the <a href="https://www.uni-hohenheim.de/en/project-dellfi">DeLLFi</a> project of the University of Hohenheim and funded by the <br> <a href="https://stiftung-hochschullehre.de/">Foundation for Innovation in University Teaching</a></p>
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
              <img alt="Creative Commons License" style="border-width:0; padding-top: -20px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" height="10%"/>
            </a> 
          </td>
          <td style="width: 25%; text-align: right; padding-right: 10%;">
            <img src="../assets/Logo_Stiftung_Hochschullehre.svg" height="10%"/>
          </td>
        </tr>
      </table>
      <hr>      
      
    </div>
  </div>
  
  <!-- include mathjax js via cdn -->
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>

  <!-- include bootstrap slider js via cdn --> 
  <script 
  src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js">
  </script>

  <!-- include jstat js via cdn -->
  <script
  src="https://cdn.jsdelivr.net/npm/jstat@latest/dist/jstat.min.js">
  </script>

  <!-- adjust inputs -->
  <script>  
    
    // object with all sliders
    let sliders = {
      value: {
        slider1: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 200, 350, 500, 750, 1000],
      },
      initialIndex: [2],
      sliderValueParStr: ['\\(n = '],
    };
    
  </script>

  <!-- include js for interaction and animation -->
  <script src="../assets/interactionAndAnimationScript.js"></script>

  <!-- include my javascript -->
  <script src="../assets/myScript.js"></script>    

</body>
</html>